# Bekos

## General Information
Description of the files in the main folder:
- .gitignore : files and directories that you have saved locally but should not be saved in git (Don't save js modules on git )
- package.json : File tracking all the configurations and dependencies needed by the project. To install the dependencies, run `npm install`.
## VideoPlayer
### How to test
The video player is configured to run on port 5000. To run the video player service, reach the folder /server/video_stream_server in a terminal and run the index file with `nodemon`:
```
cd .\server\video_stream_server\
nodemon ./index.js
```
you should get an output like this:
```
\Bekos\server\video_stream_server> nodemon .\index.js
[nodemon] 2.0.15
[nodemon] to restart at any time, enter `rs`
[nodemon] watching path(s): *.*
[nodemon] watching extensions: js,mjs,json
[nodemon] starting `node .\index.js`
Server listening on port 5000
```
if nodemon is not install properly, install it a s global:
```
npm install -g nodemon
```
The web interface runs on port 3000. To run it, reach the folder /client/src in a different terminal and start the application:
```
cd .\client\src\
npm start
```
The output should look like this:
```
Compiled successfully!

You can now view client in the browser.

  Local:            http://localhost:3000
  On Your Network:  http://192.168.x.x:3000

Note that the development build is not optimized.
To create a production build, use npm run build.

assets by path static/ 2.67 MiB
  asset static/js/bundle.js 2.66 MiB [emitted] (name: main) 1 related asset
  asset static/js/node_modules_web-vitals_dist_web-vitals_js.chunk.js 6.92 KiB [emitted] 1 related asset
  asset static/media/logo.6ce24c58023cc2f8fd88fe9d219db6c6.svg 2.57 KiB [emitted] (auxiliary name: main)
asset index.html 1.71 KiB [emitted]
asset asset-manifest.json 546 bytes [emitted]
cached modules 5.91 MiB [cached] 6216 modules
runtime modules 31.3 KiB 15 modules
webpack 5.67.0 compiled successfully in 8066 ms
```
you should now be able to reach and test the application by reaching http://localhost:3000 in your browser.
Steps to test the application are:
- Allow the browser to use your microphone/webcam
    - Your video stream should appear on the webpage
- Insert a name in the appropriate field
    - Your name should be updated on top of your video stream
- Copy your ID by clicking the button
- Paste the ID in the appropriate field
- click the call Button
    - A notification should appear for an incoming call
- Answer the call
    - A second videostream should appear (note that you're calling yourself)
- Hang up the call

Some notes:
- Now we are required, for test purposes, to copy and paste the ID. It will be automatically handled by the application when it will be implemented

### Folder structure
- /client : Files and folders to manage the front end, including the Web GUI
- /client/public : Files to be managed by the browser/bots. Automatically generated by npm, most could be erased
- /client/src : Files and folders to hadle the app.
- /client/src/components : Common/external components, such as navbar, menus, ... . At the moment, it contains the code to manage the video stream window, the options for the video stream (name and id) and the notification field.
- /client/src/App.css : at the moment, not used, since the CSS for the app is inside App.js. CSS must be moved in this file!
- /client/src/App.js : High level structure of the application
- /client/src/App.test.js : File for unit tests, automatically generated by npm. Currently not used
- /client/src/index.css : Again, not used at the moment, but the css for the index page should be moved here.
- /client/src/index.js : Landing pag3e
- /client/src/logo.sbg : automatically generated by npm
- /client/src/reportWebVitals.js : Automatically generated by npm (?)
- /client/src/setupTests.js : Automatically generated by npm
- /client/SocketContext.js : file to handle the video streams
- /client/src/.gitignore : Automatically generated by npm, same function as the .gitignore in the main folder
- /client/src/package.json : Automatically generated by npm, same function as the package.json in the main folder.
- /client/src/README.md : Automatically generated by npm
- /server : Files and folders required to run in the 'backend'
- /server/video_stream_server : Files and folders to serve the video stream
### Notes
The GUI currently developed is just to showcase the video stream running, and must be changed. The files `/client/src/App.js, /client/src/App.css, /client/src/index.js, /client/src/index.css` are responsible for the presentation of the webpage. The components `/client/src/components/Notification.jsx, /client/src/components/Options.jsx, /client/src/components/VideoPlayer.jsx` are responsible for the presentation of the specific component.

### TODO:
- Ensure if we need `package.json` and `.gitignore` in both root folder and /client folder
- Remove files and folders not needed (mainly, in /client/src)
- There are some problem with the alignment of the sections. Abdi, I trust you on this!
- The dictionary accepts a language as 2 lowercase letters. Write function to allow full language or uppercase letters.
- The overall structure of the code must be reviewed. i.e., all the code is smashed together for no reason at all.

